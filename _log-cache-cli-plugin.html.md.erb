To access metrics for on-demand service instances, you can use Loggregator's Log
Cache feature with the Log Cache CLI plugin.
Log Cache is enabled by default in Pivotal Application Service (PAS) v2.2 and later.

To access metrics for on-demand service instances, do the following:

1. Install the cf CLI plugin, by running:

    ```
    cf install-plugin -r CF-Community "log-cache"
    ```

1. Access a service instance's metrics, by running:

    ```
    cf tail SERVICE-INSTANCE-NAME
    ```
    <br>
  For example:

    <pre class="terminal">
    $ cf tail my-instance
    Retrieving logs for service my-instance in org system / space pivotal-services as admin...

    <%# Switch output for different services %>
    <% case vars.service_name
      when "Redis for PCF" %>
      2018-07-03T09:54:14.84+0100 [my-instance] GAUGE info.clients.blocked_clients:0.000000 metric info.clients.client_biggest_input_buf:0.000000 metric ...
    <% when "RabbitMQ for PCF" %>
      2018-12-06T11:01:06.03+0000 [my-instance] GAUGE /p.rabbitmq/rabbitmq/channels/count:0.000000 count /p.rabbitmq/rabbitmq/connections/count:0.000000...
    <% end %>
    </pre>
  For more information about the metrics output, see
<%# Switch links for different services %>
<% case vars.service_name
  when "Redis for PCF" %>
[Redis KPIs](./monitoring.html#Redis-KPIs).
<% when "RabbitMQ for PCF" %>
[Monitoring and KPIs for On-Demand RabbitMQ for PCF](./monitor.html).
<% end %>

For more information about how to enable Log Cache and about the `cf tail` command,
see [Enable Log Cache](https://docs.pivotal.io/pivotalcf/opsguide/logging-config-opsman.html#log-cache).
